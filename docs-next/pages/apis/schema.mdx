import { Markdown } from '../../components/Page';

# Schema API

The `lists` property of the [system configuration](./config) object is where you define your data model, or schema.
To setup the `lists` property of your system configuration you need to use the `createSchema()` function.
This function accepts an object with list names as keys, and `list()` configurations as values.

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';

export default config({
  lists: createSchema({
    ListName: list({
      fields: { ... },
      idField: { ... },
      access: { ... },
      ui: { ... },
      hooks: { ... },
      graphql: { ... },
      description: '...',
    }),
    ...
  });
  ...
});
```

This document will explain the configuration options which can be used with the `list()` function.

## `fields`

The `fields` option defines the names, types, and configuration of fields in the list.
The configuration option takes an object with field names as keys and configured field types as values.

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { text } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: text({ ... }),
        ...
      },
    }),
    ...
  });
  ...
});
```

For full details on the available field types and their configuration options please see the [Fields API](./fields).

## `idField`

The `idField` option lets you override the default ID field used by Keystone.
By default the `prisma_postgresql` and `knex` adapters use `autoincrement`, and `mongoose` uses `mongoId`, as an ID field.
The default configuration (e.g. when `idField: undefined` ) is equivalent to:

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import {  autoincrement, mongoId } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: { ... },
      // prisma_postgresql and knex adapters
      idField: autoincrement({
        ui: {
          createView: { fieldMode: 'hidden' },
          itemView: { fieldMode: 'hidden' },
        },
      }),
      // mongoose adapter
      idField: mongoId({
        ui: {
          createView: { fieldMode: 'hidden' },
          itemView: { fieldMode: 'hidden' },
        },
      }),
      ...
    }),
    ...
  });
  ...
});
```

These defaults hide this field in the `create` and `update` views in the Admin UI.
You can override these defaults, or any other field config options, by providing a field type configured as needed.

The `idField` will always be made available in your GraphQL API with a name of `id`.

## `access`

The `access` option defines the [Access Control](../guides/access-control) rules for the list.
These rules determine which of the CRUD (create, read, update, delete) operations users are allowed to perform.

(coming soon)

## `ui`

(coming soon)

## `hooks`

(coming soon)

## `graphql`

(coming soon)

## `description`

The `description` option defines a string which will be used as a description in the Admin UI and GraphQL API docs.

export default ({ children }) => <Markdown>{children}</Markdown>;
